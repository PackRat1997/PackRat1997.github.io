$(document).ready(function(){function b(h,d){var f="/games/ajax/favouriteadd/";var g={game_id:d};$.ajax({url:f,data:g,dataType:"json",type:"POST",success:function(e){if(e.success){c(h);$("#favorite-toggle").data("is-fav","yes");$("#favorite-toggle").data("tip",translate.remove_from_favorites);$("#tooltip").fadeOut();$("#share-favorites").fadeIn()}else{console.log("Failed to add favourite",e)}}})}function a(h,d){var f="/games/ajax/favouriteremove/";var g={game_id:d};$.ajax({url:f,data:g,dataType:"json",type:"POST",success:function(e){if(e.success){c(h);$("#favorite-toggle").data("is-fav","no");$("#favorite-toggle").data("tip",translate.add_to_favorites)}else{console.log("Failed to remove favourite",e)}}})}function c(d){d.toggleClass("heart-empty");d.toggleClass("heart-full")}$("#favorite-toggle").click(function(){var g=$(this);var d=g.data("game-id");var e=g.data("user-id");var f=g.data("is-fav");if(typeof e=="undefined"||e<1){return}if(f=="no"){b(g,d)}else{if(f=="yes"){a(g,d)}else{return}}return false})});